{"ast":null,"code":"var _jsxFileName = \"/media/malanta/03A81F3046E08AF8/Help/frontend/src/components/frontend/Category.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Modal, Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport swal from 'sweetalert';\n\nfunction Category() {\n  //\n  const [loading, setLoading] = useState(true);\n  const [category, setCategory] = useState([]);\n  const [categoryInput, setCategoryInput] = useState({\n    name: '',\n    tag: '',\n    description: '',\n    error_list: []\n  });\n  const [show, setShow] = useState(false); //\n\n  useEffect(() => {\n    let isMountered = true;\n    axios.get('api/list-category').then(res => {\n      if (isMountered) {\n        if (res.data.status === 200) {\n          //\n          console.log(res.data.categories);\n          setCategory(res.data.categories);\n          setLoading(false);\n        }\n      }\n    });\n    return () => {\n      isMountered = false;\n    };\n  }); //\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false); //\n\n\n  const history = useNavigate(); //\n\n  const handleInput = e => {\n    e.persist();\n    setCategory({ ...categoryInput,\n      [e.target.name]: e.target.value\n    });\n  }; //\n\n\n  const submitCategory = e => {\n    e.preventDefault();\n    const data = {\n      name: categoryInput.name,\n      tag: categoryInput.tag,\n      description: categoryInput.description\n    };\n    axios.post('api/store-category', data).then(res => {\n      if (res.data.status === 200) {\n        //\n        swal(\"Success\", res.data.message, \"success\");\n        document.getElementById('CATEGORY_FORM').reset();\n        handleClose();\n        history.push('/category');\n      } else if (res.data.status === 400) {\n        //\n        setCategory({ ...categoryInput,\n          error_list: res.data.errors\n        });\n      } else {//\n      }\n    });\n  }; //\n\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 14\n      }\n    }, \"Loading Categories...\");\n  } else {\n    var showCategories = '';\n    showCategories = category.map((item, idx) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: idx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }, ++idx), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }\n      }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }\n      }, item.tag), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }, item.description));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"masthead bg-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleShow,\n    className: \"btn btn-secondary btn-sm float-end\",\n    \"data-toggle\": \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, \"Open new category\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Tag\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, \"Description\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, showCategories))))), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, \"New Category\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitCategory,\n    id: \"CATEGORY_FORM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Name\",\n    name: \"name\",\n    onChange: handleInput,\n    value: categoryInput.name,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 23\n    }\n  }, \"Tag\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Tag\",\n    name: \"tag\",\n    onChange: handleInput,\n    value: categoryInput.tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 23\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    placeholder: \"Description\",\n    name: \"description\",\n    onChange: handleInput,\n    value: categoryInput.description,\n    rows: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"success\",\n    type: \"submit\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 19\n    }\n  }, \"Save\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    variant: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"Close\"))));\n}\n\nexport default Category;","map":{"version":3,"sources":["/media/malanta/03A81F3046E08AF8/Help/frontend/src/components/frontend/Category.js"],"names":["React","useEffect","useState","Modal","Form","Button","axios","Link","useNavigate","swal","Category","loading","setLoading","category","setCategory","categoryInput","setCategoryInput","name","tag","description","error_list","show","setShow","isMountered","get","then","res","data","status","console","log","categories","handleShow","handleClose","history","handleInput","e","persist","target","value","submitCategory","preventDefault","post","message","document","getElementById","reset","push","errors","showCategories","map","item","idx"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { Modal, Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport swal from 'sweetalert';\n\nfunction Category() {\n  //\n  const [loading, setLoading] = useState(true);\n  const [category, setCategory] = useState([]);\n  const [categoryInput, setCategoryInput] = useState({\n      name: '',\n      tag: '',\n      description: '',\n      error_list: [],\n  });\n  const [show, setShow] = useState(false);\n\n  //\n  useEffect(() => {\n      let isMountered = true;\n\n      axios.get('api/list-category').then(res => {\n          if(isMountered)\n          {\n              if(res.data.status === 200)\n              {\n                  //\n                  console.log(res.data.categories);\n                  setCategory(res.data.categories);\n                  setLoading(false);\n              }\n          }\n      });\n\n      return () => {\n          isMountered = false;\n      }\n  });\n\n  //\n  const handleShow = () => setShow(true);\n  const handleClose = () => setShow(false);\n\n  //\n  const history = useNavigate();\n  \n  //\n  const handleInput = (e) => {\n      e.persist();\n      setCategory({...categoryInput, [e.target.name]: e.target.value});\n  }\n\n  //\n  const submitCategory = (e) => {\n      e.preventDefault();\n\n      const data = {\n          name: categoryInput.name,\n          tag: categoryInput.tag,\n          description: categoryInput.description,\n      }\n\n      axios.post('api/store-category', data).then(res => {\n          if(res.data.status === 200)\n          {\n              //\n              swal(\"Success\", res.data.message, \"success\");\n              document.getElementById('CATEGORY_FORM').reset();\n              handleClose();\n              history.push('/category');\n          }\n          else if(res.data.status === 400)\n          {\n              //\n              setCategory({...categoryInput, error_list: res.data.errors});\n          }\n          else{\n              //\n          }\n      });\n  }\n\n  //\n  if(loading)\n  {\n      return <h4>Loading Categories...</h4>\n  }\n  else\n  {\n      var showCategories = '';\n      showCategories = category.map((item, idx) => {\n          return (\n            <tr key={idx}>\n              <th scope=\"col\">{++idx}</th>\n              <td>{item.name}</td>\n              <td>{item.tag}</td>\n              <td>{item.description}</td>\n            </tr>\n          )\n      });\n  }\n\n  return (\n      <div>\n        <section className=\"masthead bg-default\">\n              <div className=\"container\">\n                <div className=\"row mb-3\">\n                  <div className=\"col-lg-12\">\n                    <button onClick={handleShow} className=\"btn btn-secondary btn-sm float-end\" data-toggle=\"modal\">Open new category</button>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <table className=\"table table-hover\">\n                    <thead>\n                      <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">Category</th>\n                        <th scope=\"col\">Tag</th>\n                        <th scope=\"col\">Description</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {showCategories}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n          </section>\n\n          <Modal show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n              <Modal.Title>\n                New Category\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form onSubmit={submitCategory} id=\"CATEGORY_FORM\">\n                  <Form.Group className=\"mb-3\">\n                      <Form.Label>Name</Form.Label>\n                      <Form.Control type=\"text\" placeholder=\"Name\" name=\"name\" onChange={handleInput} value={categoryInput.name} required />\n                  </Form.Group>\n                  <Form.Group className=\"mb-3\">\n                      <Form.Label>Tag</Form.Label>\n                      <Form.Control type=\"text\" placeholder=\"Tag\" name=\"tag\" onChange={handleInput} value={categoryInput.tag}  />\n                  </Form.Group>\n                  <Form.Group className=\"mb-3\">\n                      <Form.Label>Description</Form.Label>\n                      <Form.Control as=\"textarea\" placeholder=\"Description\" name=\"description\" onChange={handleInput} value={categoryInput.description}  rows={3} />\n                  </Form.Group>\n                  <Button variant=\"success\" type=\"submit\" block>Save</Button>\n              </Form>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button onClick={handleClose} variant=\"secondary\">Close</Button>\n            </Modal.Footer>\n          </Modal>\n    </div>\n  )\n}\n\nexport default Category;"]},"metadata":{},"sourceType":"module"}