{"ast":null,"code":"var _jsxFileName = \"/media/malanta/03A81F3046E08AF8/Help/frontend/src/AdminPrivateRoute.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Redirect, Route, useHistory } from 'react-router-dom';\nimport MasterLayout from './layouts/admin/MasterLayout';\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AdminPrivateRoute(_ref) {\n  _s();\n\n  let { ...rest\n  } = _ref;\n  //\n  const history = useHistory();\n  const [Authenticated, setAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true); //\n\n  useEffect(() => {\n    axios.get('api/checkingAuthenticated').then(res => {\n      if (res.status === 200) {\n        //\n        setAuthenticated(true);\n      }\n\n      setLoading(false);\n    });\n    return () => {\n      setAuthenticated(false);\n    };\n  }, []); //\n\n  axios.interceptors.response.use(undefined, function axiosRetryInterceptor(err) {\n    //\n    if (err.response.status === 401) {\n      //\n      swal(\"Unauthorized\", err.response.data.message, \"warning\");\n      history.push('/401');\n    }\n\n    return Promise.reject(err);\n  }); //\n\n  axios.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n    if (error.response.status === 403) // Access Denied\n      {\n        //\n        swal(\"Forbidden\", error.response.data.message, \"warning\");\n        history.push('/403');\n      } else if (error.response.status === 404) // Page Not Found\n      {\n        //\n        swal(\"404 Error\", \"Url/Página não encontrada!\", \"warning\");\n        history.push('/404');\n      }\n\n    return Promise.reject(error);\n  }); //\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: _ref2 => {\n      let {\n        props,\n        location\n      } = _ref2;\n      return Authenticated ? /*#__PURE__*/_jsxDEV(MasterLayout, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdminPrivateRoute, \"g5e6zVH4GIp9tJn/1sygtKyfHkw=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminPrivateRoute;\nexport default AdminPrivateRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPrivateRoute\");","map":{"version":3,"sources":["/media/malanta/03A81F3046E08AF8/Help/frontend/src/AdminPrivateRoute.js"],"names":["React","useEffect","useState","axios","Redirect","Route","useHistory","MasterLayout","swal","AdminPrivateRoute","rest","history","Authenticated","setAuthenticated","loading","setLoading","get","then","res","status","interceptors","response","use","undefined","axiosRetryInterceptor","err","data","message","push","Promise","reject","error","props","location","pathname","state","from"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {Redirect, Route, useHistory} from 'react-router-dom';\r\nimport MasterLayout from './layouts/admin/MasterLayout';\r\nimport swal from 'sweetalert';\r\n\r\nfunction AdminPrivateRoute({...rest}) {\r\n    //\r\n    const history = useHistory();\r\n\r\n    const [Authenticated, setAuthenticated] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    //\r\n    useEffect(() => {\r\n        axios.get('api/checkingAuthenticated').then(res => {\r\n            if(res.status === 200)\r\n            {\r\n                //\r\n                setAuthenticated(true);\r\n            }\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => {\r\n            setAuthenticated(false);\r\n        };\r\n    }, []);\r\n\r\n    //\r\n    axios.interceptors.response.use(undefined, function axiosRetryInterceptor(err) {\r\n        //\r\n        if(err.response.status === 401)\r\n        {\r\n            //\r\n            swal(\"Unauthorized\", err.response.data.message, \"warning\");\r\n            history.push('/401');\r\n        }\r\n        return Promise.reject(err);\r\n    });\r\n\r\n    //\r\n    axios.interceptors.response.use(function (response) {\r\n            return response;\r\n        }, function (error) {\r\n            if(error.response.status === 403) // Access Denied\r\n            {\r\n                //\r\n                swal(\"Forbidden\", error.response.data.message, \"warning\");\r\n                history.push('/403');\r\n            }\r\n            else if(error.response.status === 404) // Page Not Found\r\n            {\r\n                //\r\n                swal(\"404 Error\", \"Url/Página não encontrada!\", \"warning\");\r\n                history.push('/404');\r\n            }\r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n\r\n    //\r\n    if(loading)\r\n    {\r\n        return <h1>Loading...</h1>;\r\n    }\r\n    \r\n    return(\r\n        <Route {...rest}\r\n            render={ ({props, location}) =>\r\n                Authenticated ?\r\n                ( <MasterLayout {...props} /> ) :\r\n                ( <Redirect to={{pathname: \"/login\", state: {from: location}}} /> )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default AdminPrivateRoute;"]},"metadata":{},"sourceType":"module"}